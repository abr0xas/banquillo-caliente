---
interface Props {
  image: string;
  level: number;
}

const { image, level } = Astro.props;

const isCrisis = level > 70;
const statusColor = isCrisis ? 'text-crisis-red' : 'text-rm-blue';
const borderColor = isCrisis ? 'border-crisis-red' : 'border-gray-200';
---

<section class="relative h-[65vh] w-full overflow-hidden">
    <!-- Background Image -->
    <div class="absolute inset-0 bg-black">
        <img 
            src={image} 
            alt="Entrenador del Real Madrid"
            class="w-full h-full object-cover opacity-80"
            fetchpriority="high"
        />
        <!-- Vignette Effect -->
        <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"></div>
    </div>

    <!-- Title Overlay -->
    <div class="absolute top-10 w-full text-center z-10 px-4">
        <h1 class="text-5xl font-display uppercase tracking-tighter text-white drop-shadow-lg transform -rotate-1">
            Banquillo <br/>
            <span class={statusColor + " drop-shadow-[0_0_15px_rgba(255,42,42,0.8)]"}>Caliente</span>
        </h1>
    </div>

    <!-- Status Badge -->
    <div class="absolute bottom-8 left-0 right-0 flex justify-center z-10">
        <div class={`bg-black/50 backdrop-blur-md border ${borderColor} px-6 py-2 rounded-full flex items-center gap-3`}>
            <div class={`w-3 h-3 rounded-full ${isCrisis ? 'bg-crisis-red animate-pulse' : 'bg-green-500'}`}></div>
            <span class="text-white font-bold uppercase tracking-widest text-sm">Estado: {isCrisis ? 'CR√çTICO' : 'ESTABLE'}</span>
        </div>
    </div>
</section>
